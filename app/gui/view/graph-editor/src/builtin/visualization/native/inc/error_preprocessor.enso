x ->
    result = Ref.new '{ message: ""}'
    x.catch err->
        message = err.to_display_text
        result.put ('{ "kind": "Dataflow", "message": ' + message.to_json.to_text + '}')
    result.get
