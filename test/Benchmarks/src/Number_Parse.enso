from Standard.Base import all

import Standard.Test.Bench
import Standard.Test.Faker

## Bench Utilities ============================================================

vector_size = 1000000
iter_size = 100
num_iterations = 10

# The Benchmarks ==============================================================

main =
    ## No specific significance to this constant, just fixed to make generated set deterministic
    fixed_random_seed = 1644575867
    faker = Faker.new fixed_random_seed

    double_string = Vector.new here.vector_size _->(faker.decimal -1000000000 1000000000).to_text
    Bench.measure (double_string.map Decimal.parse) "Decimal.parse" here.iter_size here.num_iterations

    int_strings = Vector.new here.vector_size _->(faker.integer -1000000000 1000000000).to_text
    Bench.measure (int_strings.map Integer.parse) "Integer.parse" here.iter_size here.num_iterations
