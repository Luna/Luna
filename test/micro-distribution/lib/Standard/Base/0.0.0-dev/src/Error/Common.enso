from project.Data.Any import Any

@Builtin_Type
type Panic
    throw payload = @Builtin_Method "Panic.throw"
    catch_primitive ~action handler = @Builtin_Method "Panic.catch_primitive"

@Builtin_Type
type Syntax_Error
    Value message
@Builtin_Type
type Polyglot_Error
    Value cause
@Builtin_Type
type Arithmetic_Error
    Value message
@Builtin_Type
type Type_Error
    Value expected actual name
@Builtin_Type
type Compile_Error
    Value message
@Builtin_Type
type Inexhaustive_Pattern_Match_Error
    Value scrutinee
@Builtin_Type
type Arity_Error
    Value expected_min expected_max actual

@Builtin_Type
type Error
    throw payload = @Builtin_Method "Error.throw"
    catch_primitive self handler = @Builtin_Method "Error.catch_primitive"
    catch self (error_type = Any) (handler = x->x) =
        _ = error_type
        self.catch_primitive handler
