from Standard.Base import all

import Standard.Examples

import Standard.Visualization.Text as TextVis
import Standard.Visualization.Preprocessor as Preprocessor

from Standard.Test import Test

sample_text_single_line = "ABCDEFGHIJKLMNOPQRS"
sample_text_multi_line = """
    ABCDEFGHIJKLMNOPQRS
    1234567890

spec = Test.group "By coordinates" <|
    Test.specify "Get correct chunks" <|
        (Preprocessor.lazy_preprocessor sample_text_multi_line [0,0] [1,1] 5).should_equal '{"chunks":"[[[0, 0], \\"ABCDE\\"]]","lines":2,"max_line_length":19}'
        (Preprocessor.lazy_preprocessor sample_text_multi_line [1,1] [1,1] 5).should_equal '{"chunks":"[[[1, 1], \\"67890\\"]]","lines":2,"max_line_length":10}'

    Test.specify "Get simple string for small data" <|
        (Preprocessor.lazy_preprocessor 10 [0,0] [1,1] 5).should_equal '10'
