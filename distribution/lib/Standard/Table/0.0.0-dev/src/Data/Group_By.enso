from Standard.Base import all

## Group By Key
type Group_By_Key
    type Group_By_Key values

    ## See if two keys are equal
    == : Group_By_Key->Boolean
    == that = this.values == that.values

    ## Compares two keys
    compare_to : Group_By_Key->Ordering
    compare_to that =
        loop i =
            comparison = this.values.unsafe_at i . compare_to (that.values.unsafe_at i)
            if comparison != Ordering.Equal then comparison else
                if i == this.values.length - 1 then Ordering.Equal else
                    @Tail_Call loop (i+1)
        loop 0
